# =============================================================================
# TOUR MANAGER - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment

# -----------------------------------------------------------------------------
# Flask Configuration
# -----------------------------------------------------------------------------
FLASK_ENV=development
FLASK_DEBUG=true
FLASK_HOST=0.0.0.0
FLASK_PORT=5000

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Development
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tour_manager_dev

# Testing
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/tour_manager_test

# Production (Docker)
# DATABASE_URL=postgresql://postgres:postgres@db:5432/tour_manager

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a strong secret key for production!
# python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-change-in-production

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_GLOBAL=100/minute

# -----------------------------------------------------------------------------
# Account Lockout
# -----------------------------------------------------------------------------
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# -----------------------------------------------------------------------------
# Email Configuration (Gmail example)
# -----------------------------------------------------------------------------
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=true
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_DEFAULT_SENDER=noreply@tourmanager.app

# -----------------------------------------------------------------------------
# Redis (Optional - for production caching and rate limiting)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://localhost:6379/0
# CACHE_TYPE=redis

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Keys (DO NOT commit real values!)
# -----------------------------------------------------------------------------
# Geoapify - International geocoding (3000 req/day free tier)
# Get your key at: https://www.geoapify.com/
# Used for: Venue address geocoding, map markers
GEOAPIFY_API_KEY=your-geoapify-api-key-here

# =============================================================================
# INTÉGRATIONS CALENDRIER (Configuration Admin - Une seule fois)
# =============================================================================
# Ces variables permettent aux utilisateurs de synchroniser leurs calendriers.
# L'admin configure ces credentials une fois, tous les utilisateurs en bénéficient.

# -----------------------------------------------------------------------------
# Google Calendar OAuth2
# -----------------------------------------------------------------------------
# Guide complet: docs/OAUTH_SETUP.md
#
# Étapes rapides:
# 1. Créer un projet sur https://console.cloud.google.com
# 2. Activer "Google Calendar API" dans la bibliothèque d'APIs
# 3. Configurer l'écran de consentement OAuth (External, puis ajouter scopes calendar)
# 4. Créer des identifiants OAuth2 → Type "Application Web"
# 5. Ajouter URI de redirection autorisé: https://VOTRE-DOMAINE/integrations/google/callback
# 6. Copier Client ID et Client Secret ci-dessous

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
# URI de callback - remplacer VOTRE-DOMAINE par votre domaine réel
GOOGLE_REDIRECT_URI=https://VOTRE-DOMAINE/integrations/google/callback

# -----------------------------------------------------------------------------
# Microsoft Outlook OAuth2
# -----------------------------------------------------------------------------
# Guide complet: docs/OAUTH_SETUP.md
#
# Étapes rapides:
# 1. Aller sur https://portal.azure.com
# 2. Azure Active Directory → App registrations → New registration
# 3. Nom: "Tour Manager", Type: "Accounts in any organizational directory and personal Microsoft accounts"
# 4. Redirect URI: Web → https://VOTRE-DOMAINE/integrations/outlook/callback
# 5. Dans "API permissions" → Add permission → Microsoft Graph → Calendars.ReadWrite
# 6. Dans "Certificates & secrets" → New client secret → Copier la Value
# 7. Copier Application (client) ID et le secret ci-dessous

MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
# Tenant ID: "common" permet comptes perso + organisations
MICROSOFT_TENANT_ID=common
# URI de callback - remplacer VOTRE-DOMAINE par votre domaine réel
MICROSOFT_REDIRECT_URI=https://VOTRE-DOMAINE/integrations/outlook/callback
