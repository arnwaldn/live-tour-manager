name: gigroute
type: web
git:
  repository: github.com/arnwaldn/gigroute
  branch: main
  builder: dockerfile
  dockerfile: Dockerfile
  workDir: /
env:
  - key: FLASK_ENV
    value: production
  - key: FLASK_DEBUG
    value: "false"
  # IMPORTANT: Set these in Koyeb dashboard > Service > Environment Variables
  # DO NOT commit real secrets to this file!
  # - key: SECRET_KEY
  #   value: "<generate with: python -c 'import secrets; print(secrets.token_hex(32))'>"
  # - key: DATABASE_URL
  #   value: "<your-postgresql-connection-string>"
  # - key: REDIS_URL
  #   value: "<your-redis-connection-string>"
ports:
  - port: 8080
    protocol: http
routes:
  - path: /
    port: 8080
healthChecks:
  - port: 8080
    path: /health
    protocol: http
scaling:
  min: 1
  max: 3
instance_types:
  - type: nano
regions:
  - fra
